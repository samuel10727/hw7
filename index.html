<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>重力觀測數據修正分析報告</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Times New Roman', 'Microsoft JhengHei', serif; line-height: 1.5; color: #1a1a1a; max-width: 950px; margin: 20px auto; padding: 20px; background-color: #fcfcfc; }
        .report-border { border: 2px solid #333; padding: 30px; background: white; box-shadow: 5px 5px 15px rgba(0,0,0,0.05); }
        h1 { text-align: center; text-transform: uppercase; letter-spacing: 2px; border-bottom: 2px solid #333; padding-bottom: 10px; }
        h2 { border-left: 5px solid #2c3e50; padding-left: 10px; margin-top: 30px; font-size: 1.25em; background: #f8f9fa; }
        .data-table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        .data-table td, .data-table th { border: 1px solid #ddd; padding: 8px 12px; }
        .data-table th { background-color: #f2f2f2; width: 30%; text-align: left; }
        .formula-block { background: #fdfdfd; border: 1px solid #eee; padding: 15px; margin: 10px 0; text-align: center; }
        .result-highlight { color: #d35400; font-weight: bold; }
        pre { background: #272822; color: #f8f8f2; padding: 15px; border-radius: 4px; font-size: 13px; overflow-x: auto; }
        .summary-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .summary-table th { background: #2c3e50; color: white; }
        .summary-table td, .summary-table th { border: 1px solid #333; padding: 10px; text-align: center; }
    </style>
</head>
<body>

<div class="report-border">
    <h1>Gravity Station Data Analysis</h1>

    <h2>1. 原始觀測數據 (Input Parameters)</h2>
    <table class="data-table">
        <tr><th>緯度 ($\phi$)</th><td>48.1195° N</td></tr>
        <tr><th>經度 ($\lambda$)</th><td>12.1878° E</td></tr>
        <tr><th>測站高度 ($h$)</th><td>487.9 m</td></tr>
        <tr><th>實測重力值 ($g_{obs}$)</th><td>980,717.39 mGal</td></tr>
        <tr><th>假設密度 ($\rho_{地殼}, \rho_{海水}$)</th><td>2.67 g/cm³, 1.03 g/cm³</td></tr>
    </table>

    <h2>2. (a) 陸地測站修正計算 (Land Station)</h2>
    
    <p><strong>i. 理論重力 (IGF 1967):</strong></p>
    <div class="formula-block">
        $$g_{th} = 978031.8 \left(1 + 0.0053024 \sin^2\phi - 0.0000058 \sin^2 2\phi\right)$$
        計算結果: <span class="result-highlight">980,883.67 mGal</span>
    </div>

    <p><strong>ii. 空間修正 (Free-air Correction, $C_{FA}$):</strong></p>
    <div class="formula-block">
        $$C_{FA} = 0.3086 \times h = 0.3086 \times 487.9 = \mathbf{150.57 \text{ mGal}}$$
    </div>

    <p><strong>iii. 布格修正 (Bouguer Correction, $C_B$):</strong></p>
    <div class="formula-block">
        $$C_B = 0.04193 \times \rho \times h = 0.04193 \times 2.67 \times 487.9 = \mathbf{54.62 \text{ mGal}}$$
    </div>

    

    <p><strong>iv & v. 重力異常值 (Gravity Anomalies):</strong></p>
    <div class="formula-block">
        $\Delta g_{FA} = g_{obs} + C_{FA} - g_{th} = \mathbf{-15.71 \text{ mGal}}$<br>
        $\Delta g_B = \Delta g_{FA} - C_B = \mathbf{-70.33 \text{ mGal}}$
    </div>

    <h2>3. (b) 海上測站修正計算 (Ocean Station)</h2>
    <p>條件：站點位於海平面 ($h=0$)，下方水深 $d = 487.9$ m。</p>
    <div class="formula-block">
        空間異常: $\Delta g_{FA} = g_{obs} - g_{th} = \mathbf{-166.28 \text{ mGal}}$<br>
        布格異常: $\Delta g_B = \Delta g_{FA} + 0.04193(\rho_c - \rho_w)d = \mathbf{-132.73 \text{ mGal}}$
    </div>

    <h2>4. 數據彙整 (Summary Table)</h2>
    <table class="summary-table">
        <thead>
            <tr>
                <th>分析項目</th>
                <th>陸地站點 (487.9m)</th>
                <th>海上站點 (水深 487.9m)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>空間重力異常 ($\Delta g_{FA}$)</td>
                <td class="result-highlight">-15.71 mGal</td>
                <td class="result-highlight">-166.28 mGal</td>
            </tr>
            <tr>
                <td>布格重力異常 ($\Delta g_B$)</td>
                <td class="result-highlight">-70.33 mGal</td>
                <td class="result-highlight">-132.73 mGal</td>
            </tr>
        </tbody>
    </table>

    <h2>5. Python 實作腳本 (Python Implementation)</h2>
    <pre>
import math

def solve_gravity():
    # Constants
    lat, h, g_obs = 48.1195, 487.9, 980717.39
    rho_c, rho_w = 2.67, 1.03
    
    # 1. Theoretical Gravity
    phi = math.radians(lat)
    g_th = 978031.8 * (1 + 0.0053024*math.sin(phi)**2 - 0.0000058*math.sin(2*phi)**2)
    
    # 2. Land Calculations
    c_fa = 0.3086 * h
    c_b = 0.04193 * rho_c * h
    dg_fa_land = g_obs + c_fa - g_th
    dg_b_land = dg_fa_land - c_b
    
    # 3. Ocean Calculations
    dg_fa_ocean = g_obs - g_th
    dg_b_ocean = dg_fa_ocean + 0.04193 * (rho_c - rho_w) * h
    
    return {
        "Land": (dg_fa_land, dg_b_land),
        "Ocean": (dg_fa_ocean, dg_b_ocean)
    }

results = solve_gravity()
print(f"Land Anomalies: FA={results['Land'][0]:.2f}, B={results['Land'][1]:.2f}")
print(f"Ocean Anomalies: FA={results['Ocean'][0]:.2f}, B={results['Ocean'][1]:.2f}")
    </pre>
</div>

</body>
</html>
